/*! skrollr 0.6.8 (2013-06-17) | Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr | Free to use under terms of MIT license */
(function(e,t,n){"use strict";function r(n){if(i=t.documentElement,s=t.body,z(),it=this,n=n||{},ft=n.constants||{},n.easing)for(var r in n.easing)X[r]=n.easing[r];vt=n.edgeStrategy||"set",ut={beforerender:n.beforerender,render:n.render},at=n.forceHeight!==!1,at&&(kt=n.scale||1),ct=n.smoothScrolling!==!1,ht=n.smoothScrollingDuration||N,pt={targetTop:it.getScrollTop()},_t=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),_t?(ot=t.getElementById("skrollr-body"),ot&&rt(),V(),Et(i,[y,E],[b])):Et(i,[y,w],[b]),it.refresh(),gt(e,"resize orientationchange",yt);var o=W();return function u(){K(),o(u)}(),it}var i,s,o=e.skrollr={get:function(){return it},init:function(e){return it||new r(e)},VERSION:"0.6.8"},u=Object.prototype.hasOwnProperty,a=e.Math,f=e.getComputedStyle,l="touchstart",c="touchmove",h="touchcancel",p="touchend",d="skrollable",v=d+"-before",m=d+"-between",g=d+"-after",y="skrollr",b="no-"+y,w=y+"-desktop",E=y+"-mobile",S="linear",x=1e3,T=6e-4,N=200,C="start",k="end",L="center",A="bottom",O="___skrollable_id",M=/^\s+|\s+$/g,_=/^data(?:-(_\w+))?(?:-?(-?\d+))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,D=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,P=/^([a-z\-]+)\[(\w+)\]$/,H=/-([a-z])/g,B=function(e,t){return t.toUpperCase()},j=/[\-+]?[\d]*\.?[\d]+/g,F=/\{\?\}/g,I=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,q=/[a-z\-]+-gradient/g,R="",U="",z=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(f){var t=f(s,null);for(var r in t)if(R=r.match(e)||+r==r&&t[r].match(e))break;if(!R)return R=U="",n;R=R[0],"-"===R.slice(0,1)?(U=R,R={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[R]):U="-"+R.toLowerCase()+"-"}},W=function(){var t=e.requestAnimationFrame||e[R.toLowerCase()+"RequestAnimationFrame"],n=Tt();return(_t||!t)&&(t=function(t){var r=Tt()-n,i=a.max(0,33-r);e.setTimeout(function(){n=Tt(),t()},i)}),t},X={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-a.cos(e*a.PI)/2+.5},sqrt:function(e){return a.sqrt(e)},outCubic:function(e){return a.pow(e-1,3)+1},bounce:function(e){var t;if(.5083>=e)t=3;else if(.8489>=e)t=9;else if(.96208>=e)t=27;else{if(!(.99981>=e))return 1;t=91}return 1-a.abs(3*a.cos(1.028*e*t)/t)}};r.prototype.refresh=function(e){var r,i,s=!1;for(e===n?(s=!0,st=[],Mt=0,e=t.getElementsByTagName("*")):e=[].concat(e),r=0,i=e.length;i>r;r++){var o=e[r],u=o,a=[],f=ct,l=vt;if(o.attributes){for(var c=0,h=o.attributes.length;h>c;c++){var p=o.attributes[c];if("data-anchor-target"!==p.name)if("data-smooth-scrolling"!==p.name)if("data-edge-strategy"!==p.name){var v=p.name.match(_);if(null!==v){var m=v[1];m=m&&ft[m.substr(1)]||0;var g=(0|v[2])+m,y=v[3],b=v[4]||y,w={offset:g,props:p.value,element:o};a.push(w),y&&y!==C&&y!==k?(w.mode="relative",w.anchors=[y,b]):(w.mode="absolute",y===k?w.isEnd=!0:(w.frame=g*kt,delete w.offset))}}else l=p.value;else f="off"!==p.value;else if(u=t.querySelector(p.value),null===u)throw'Unable to find anchor target "'+p.value+'"'}if(a.length){var E,S,x;!s&&O in o?(x=o[O],E=st[x].styleAttr,S=st[x].classAttr):(x=o[O]=Mt++,E=o.style.cssText,S=wt(o)),st[x]={element:o,styleAttr:E,classAttr:S,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l},Et(o,[d],[])}}}for(yt(),r=0,i=e.length;i>r;r++){var T=st[e[r][O]];T!==n&&(Q(T),Y(T))}return it},r.prototype.relativeToAbsolute=function(e,t,n){var r=i.clientHeight,s=e.getBoundingClientRect(),o=s.top,u=s.bottom-s.top;return t===A?o-=r:t===L&&(o-=r/2),n===A?o+=u:n===L&&(o+=u/2),o+=it.getScrollTop(),0|o+.5},r.prototype.animateTo=function(e,t){t=t||{};var r=Tt(),i=it.getScrollTop();return lt={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||x,startTime:r,endTime:r+(t.duration||x),easing:X[t.easing||S],done:t.done},lt.topDiff||(lt.done&&lt.done.call(it,!1),lt=n),it},r.prototype.stopAnimateTo=function(){lt&&lt.done&&lt.done.call(it,!0),lt=n},r.prototype.isAnimatingTo=function(){return!!lt},r.prototype.setScrollTop=function(t,n){return n===!0&&(At=t,dt=!0),_t?(Dt=a.min(a.max(t,0),Ct),ot&&o.setStyle(ot,"transform","translate(0, "+ -Dt+"px) "+mt)):e.scrollTo(0,t),it},r.prototype.getScrollTop=function(){return _t?Dt:e.pageYOffset||i.scrollTop||s.scrollTop||0},r.prototype.on=function(e,t){return ut[e]=t,it},r.prototype.off=function(e){return delete ut[e],it};var V=function(){var t,r,o,u,f,d,v,m,g,y,b;gt(i,[l,c,h,p].join(" "),function(e){e.preventDefault();var i=e.changedTouches[0];switch(u=i.clientY,f=i.clientX,g=e.timeStamp,e.type){case l:t&&t.blur(),t=e.target,r=d=u,o=f,m=g;break;case c:v=u-d,b=g-y,it.setScrollTop(Dt-v),d=u,y=g;break;default:case h:case p:var s=r-u,w=o-f,E=w*w+s*s;if(49>E)return t.focus(),t.click(),n;t=n;var S=v/b;S=a.max(a.min(S,3),-3);var x=a.abs(S/T),N=S*x+.5*T*x*x,C=it.getScrollTop()-N,k=0;C>Ct?(k=(Ct-C)/N,C=Ct):0>C&&(k=-C/N,C=0),x*=1-k,it.animateTo(C,{easing:"outCubic",duration:x})}}),e.scrollTo(0,0),i.style.overflow=s.style.overflow="hidden"},$=function(){var e,t,n,r,i,s,o,u,f;for(u=0,f=st.length;f>u;u++)for(e=st[u],t=e.element,n=e.anchorTarget,r=e.keyFrames,i=0,s=r.length;s>i;i++)o=r[i],"relative"===o.mode&&(nt(t),o.frame=it.relativeToAbsolute(n,o.anchors[0],o.anchors[1])-o.offset,nt(t,!0)),at&&!o.isEnd&&o.frame>Ct&&(Ct=o.frame);for(Ct=a.max(Ct,bt()),u=0,f=st.length;f>u;u++){for(e=st[u],r=e.keyFrames,i=0,s=r.length;s>i;i++)o=r[i],o.isEnd&&(o.frame=Ct-o.offset);e.keyFrames.sort(Nt)}},J=function(e,t){for(var n=0,r=st.length;r>n;n++){var i,s,a=st[n],f=a.element,l=a.smoothScrolling?e:t,c=a.keyFrames,h=c[0].frame,p=c[c.length-1].frame,y=h>l,b=l>p,w=c[y?0:c.length-1];if(y||b){if(y&&-1===a.edge||b&&1===a.edge)continue;switch(Et(f,[y?v:g],[v,m,g]),a.edge=y?-1:1,a.edgeStrategy){case"reset":nt(f);continue;case"ease":l=w.frame;break;default:case"set":var E=w.props;for(i in E)u.call(E,i)&&(s=tt(E[i].value),o.setStyle(f,i,s));continue}}else 0!==a.edge&&(Et(f,[d,m],[v,g]),a.edge=0);for(var S=0,x=c.length-1;x>S;S++)if(l>=c[S].frame&&c[S+1].frame>=l){var T=c[S],N=c[S+1];for(i in T.props)if(u.call(T.props,i)){var C=(l-T.frame)/(N.frame-T.frame);C=T.props[i].easing(C),s=et(T.props[i].value,N.props[i].value,C),s=tt(s),o.setStyle(f,i,s)}break}}},K=function(){var e,t,r=it.getScrollTop(),i=Tt();if(lt)i>=lt.endTime?(r=lt.targetTop,e=lt.done,lt=n):(t=lt.easing((i-lt.startTime)/lt.duration),r=0|lt.startTop+t*lt.topDiff),it.setScrollTop(r);else if(!_t){var s=pt.targetTop-r;s&&(pt={startTop:At,topDiff:r-At,targetTop:r,startTime:Ot,endTime:Ot+ht}),pt.endTime>=i&&(t=X.sqrt((i-pt.startTime)/ht),r=0|pt.startTop+t*pt.topDiff)}if(dt||At!==r){Lt=r>=At?"down":"up",dt=!1;var o={curTop:r,lastTop:At,maxTop:Ct,direction:Lt},u=ut.beforerender&&ut.beforerender.call(it,o);u!==!1&&(J(r,it.getScrollTop()),At=r,ut.render&&ut.render.call(it,o)),e&&e.call(it,!1)}Ot=i},Q=function(e){for(var t=0,n=e.keyFrames.length;n>t;t++){for(var r,i,s,o,u=e.keyFrames[t],a={};null!==(o=D.exec(u.props));)s=o[1],i=o[2],r=s.match(P),null!==r?(s=r[1],r=r[2]):r=S,i=i.indexOf("!")?G(i):[i.slice(1)],a[s]={value:i,easing:X[r]};u.props=a}},G=function(e){var t=[];return I.lastIndex=0,e=e.replace(I,function(e){return e.replace(j,function(e){return 100*(e/255)+"%"})}),U&&(q.lastIndex=0,e=e.replace(q,function(e){return U+e})),e=e.replace(j,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},Y=function(e){var t,n,r={};for(t=0,n=e.keyFrames.length;n>t;t++)Z(e.keyFrames[t],r);for(r={},t=e.keyFrames.length-1;t>=0;t--)Z(e.keyFrames[t],r)},Z=function(e,t){var n;for(n in t)u.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},et=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];for(r=1;i>r;r++)s[r]=e[r]+(t[r]-e[r])*n;return s},tt=function(e){var t=1;return F.lastIndex=0,e[0].replace(F,function(){return e[t++]})},nt=function(e,t){e=[].concat(e);for(var n,r,i=0,s=e.length;s>i;i++)r=e[i],n=st[r[O]],n&&(t?(r.style.cssText=n.dirtyStyleAttr,Et(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=wt(r),r.style.cssText=n.styleAttr,Et(r,n.classAttr)))},rt=function(){mt="translateZ(0)",o.setStyle(ot,"transform",mt);var e=f(ot),t=e.getPropertyValue("transform"),n=e.getPropertyValue(U+"transform"),r=t&&"none"!==t||n&&"none"!==n;r||(mt="")};o.setStyle=function(e,t,n){var r=e.style;if(t=t.replace(H,B).replace("-",""),"zIndex"===t)r[t]=""+(0|n);else if("float"===t)r.styleFloat=r.cssFloat=n;else try{R&&(r[R+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt=o.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),r.call(this,t)};n=n.split(" ");for(var s=0,o=n.length;o>s;s++)t.addEventListener?t.addEventListener(n[s],r,!1):t.attachEvent("on"+n[s],i)},yt=function(){var e=it.getScrollTop();Ct=0,at&&!_t&&(s.style.height="auto"),$(),at&&!_t&&(s.style.height=Ct+i.clientHeight+"px"),_t?it.setScrollTop(a.min(it.getScrollTop(),Ct)):it.setScrollTop(e,!0),dt=!0},bt=function(){var e=ot&&ot.offsetHeight||0,t=a.max(e,s.scrollHeight,s.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight);return t-i.clientHeight},wt=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},Et=function(t,r,i){var s="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[s],s="baseVal"),i===n)return t[s]=r,n;for(var o=t[s],u=0,a=i.length;a>u;u++)o=xt(o).replace(xt(i[u])," ");o=St(o);for(var f=0,l=r.length;l>f;f++)-1===xt(o).indexOf(xt(r[f]))&&(o+=" "+r[f]);t[s]=St(o)},St=function(e){return e.replace(M,"")},xt=function(e){return" "+e+" "},Tt=Date.now||function(){return+(new Date)},Nt=function(e,t){return e.frame-t.frame},Ct=0,kt=1,Lt="down",At=-1,Ot=Tt(),Mt=0,_t=!1,Dt=0})(window,document),function(e,t,n){"use strict";var r,i=[],s=/@-skrollr-keyframes\s+([\w-]+)/g,o=/\s*\{\s*((?:[^{]+\{[^}]*\}\s*)+?)\s*\}/g,u=/([\w\-]+)\s*\{([^}]+)\}/g,a=/-skrollr-animation-name\s*:\s*([\w-]+)/g,f=function(t){var n=new XMLHttpRequest;try{n.open("GET",t,!1),n.send(null)}catch(r){e.XDomainRequest&&(n=new XDomainRequest,n.open("GET",t,!1),n.send(null))}return n.responseText},l=function(t){for(var n=0;n<t.length;n++){var s=t[n];if(s.tagName==="LINK"){if(s.getAttribute("data-skrollr-stylesheet")===null)continue;if(e.matchMedia){var o=s.getAttribute("media");if(o&&!matchMedia(o).matches)continue}r=f(s.href)}else r=s.textContent||s.innerText||s.innerHTML;r&&i.push(r)}i.reverse();var u={},a=[];for(var l=0;l<i.length;l++)r=i[l],c(r,u),h(r,a);p(u,a)},c=function(e,t){s.lastIndex=0;var n,r,i,a;while((n=s.exec(e))!==null){o.lastIndex=s.lastIndex,r=o.exec(e),u.lastIndex=0,a=t[n[1]]={};while((i=u.exec(r[1]))!==null)a[i[1]]=i[2].replace(/[\n\r\t]/g,"")}},h=function(e,t){a.lastIndex=0;var n,r,i;while((n=a.exec(e))!==null){i=a.lastIndex;while(i--&&e.charAt(i)!=="{");r=i;while(r--&&e.charAt(r-1)!=="}");t.push([e.substring(r,i).replace(/[\n\r\t]/g,""),n[1]])}},p=function(e,n){var r,i,s,o,u,a,f;for(var l=0;l<n.length;l++){r=t.querySelectorAll(n[l][0]);if(!r)continue;i=e[n[l][1]];for(s in i)for(o=0;o<r.length;o++)f=r[o],u="data-"+s,a=i[s],f.hasAttribute(u)&&(a+=f.getAttribute(u)),r[o].setAttribute(u,a)}};l(t.querySelectorAll("link, style"))}(window,document);